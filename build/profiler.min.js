(function(){var e=e||{};e.performance="performance"in window;e.timing=e.performance&&"timing"in window.performance;e.memory=e.performance&&"memory"in window.performance;for(var r,H=Object.prototype.toString,A={},B="Boolean Number String Function Array Date RegExp Object Error".split(" "),s=0,I=B.length;s<I;s++){var C=B[s];A["[object "+C+"]"]=C.toLowerCase()}r=function(a){return null===a?"null":"object"===typeof a||"function"===typeof a?A[H.call(a)]||"object":typeof a};var k,J="forEach"in Array.prototype;k=function(a,b,c){var d=r(a);if("array"===d)if(J)a.forEach(b,c);else for(var d=0,f=a.length;d<f;d++)b.call(c,a[d],d);else if("object"===d)for(f in a)b.call(c,a[f],f);else b.call(c,a)};var t,K="filter"in Array.prototype;t=function(a,b,c){var d=r(a),f;"array"===d?K?f=a.filter(b,c):(f=[],k(a,function(a,d){b.call(c,a,d)&&f.push(a)},c)):"object"===d&&(f={},k(a,function(a,d){b.call(c,a,d)&&(f[d]=a)},c));return f};var D,u=window,v;if(u.XMLHttpRequest)v=function(){return new u.XMLHttpRequest};else{var l=u.ActiveXObject;v=function(){try{return new l("Microsoft.XMLHTTP")}catch(a){}try{return new l("Msxml2.XMLHTTP.6.0")}catch(b){}try{return new l("Msxml2.XMLHTTP.3.0")}catch(c){}try{return new l("Msxml2.XMLHTTP")}catch(d){}return null}}D={post:function(a,b,c,d){var f={method:"post",url:a,data:b,success:function(a){c&&c.call(window,a)},error:function(a){d&&d(a)}},e=v();e.onload=function(){200===e.status&&f.success(e.response)};e.onerror=function(a){f.error(a)};e.open(f.method,f.url,!0);e.send(JSON.stringify(f.data));return e}};var w=e.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:(new Date).valueOf(),E=function(a,b){this.name=a;this.tags=b;this.start=(new Date).valueOf()-w;this.completed=!1};E.prototype={complete:function(){this.end=(new Date).valueOf()-w;this.duration=this.end-this.start;this.completed=!0},toString:function(){return this.name+" "+this.start+"-"+this.end+" ("+this.duration+")"}};var F;F=function(a){var b=a.calls,c=e.memory?m.performance.memory:null;a=a.records;var d=null;e.performance&&(d={},k(window.performance.timing,function(a,b){0<a&&(d[b]=a-w)}));return{calls:b,memory:c,records:a,timing:d}};var m=window,h=[],j={},g={},x={},y=(new Date).valueOf()+(1E3*Math.random()|0),n,p=30,z=10,q;m.profiler={clear:function(){h=t(h,function(a){return!1===a.completed});var a={};k(h,function(b){var c=b.name;a[c]=a[c]||[];a[c].push(b)});g=a;j={};x={}},count:function(a){j[a]=j[a]||0;j[a]++},reflow:function(a,b){b=b||["reflow"];this.start(a,b);this.stop(a,!0)},start:function(a,b){var c=new E(a,b||["script"]);h.push(c);g[a]=g[a]||[];g[a].push(c)},stop:function(a,b){b?setTimeout(function(){g[a].shift().complete()},0):g[a].shift().complete()},end:function(){this.stop.apply(this,arguments)},report:function(){return F({calls:j,records:t(h,function(a){return!0===a.completed})})},reset:function(){h=[];g={};j={};x={}},send:function(){if(n){var a=this.report();D.post(n,{calls:a.calls,memory:a.memory,records:a.records,session:y,timing:x})}},setup:function(a){n=a.url||n;y=a.session||y;p=a.interval||p;z=a.firstInterval||z;q=p},startReporting:function(){q=z;G();q=p}};var G=function(){setTimeout(function(){m.profiler.send();m.profiler.clear();G()},1E3*q)}})();